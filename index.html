<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Create Reader Account</title>

<style>
body {
  margin:0;
  background:#0f1115;
  color:#e6e6e6;
  font-family:system-ui, Arial;
  display:flex;
  align-items:center;
  justify-content:center;
  height:100vh;
}

.card {
  background:#161b24;
  padding:40px;
  border-radius:18px;
  width:420px;
  max-width:94%;
  box-shadow:0 20px 50px rgba(0,0,0,.55);
}

h2 {
  margin:0 0 10px 0;
  font-size:26px;
}

p {
  color:#9aa4b2;
  font-size:14px;
  margin-bottom:20px;
}

input, button {
  width:100%;
  padding:16px;
  margin-top:14px;
  font-size:16px;
  border-radius:12px;
  border:none;
}

input {
  background:#0b0f16;
  color:white;
}

button {
  background:#2b6cff;
  color:white;
  font-weight:700;
  cursor:pointer;
  transition:.15s;
}

button:hover {
  transform:translateY(-1px);
  filter:brightness(1.1);
}

.msg {
  margin-top:18px;
  font-size:14px;
  min-height:22px;
  color:#9aa4b2;
}

.note {
  margin-top:20px;
  font-size:13px;
  color:#6f7b8a;
}
</style>
</head>

<body>

<div class="card">

<h2>Create Account</h2>
<p>Get access to the manga library</p>

<input id="email" placeholder="Email address">
<input id="password" type="password" placeholder="Password (min 6 chars)">

<!-- bot trap -->
<input id="website" style="display:none">

<button onclick="signup()">Create Account</button>

<div class="msg" id="msg"></div>

<div class="note">
If it doesn’t work, login manually using your email and password on the login page.
</div>

</div>

<script>
async function signup() {
  msg.innerText = "Creating account...";

  try {
    const r = await fetch(
      "https://komga-signup-api.onrender.com/signup",
      {
        method: "POST",
        headers: {"Content-Type":"application/json"},
        body: JSON.stringify({
          email: email.value,
          password: password.value,
          website: website.value
        })
      }
    );

    const t = await r.text();
    msg.innerText = t;

    if (r.ok) {
      msg.innerText = "Account created — redirecting...";
      setTimeout(() => {
        window.location = "http://mc.terohost.in:26351/login";
      }, 1400);
    }

  } catch {
    msg.innerText = "Network error — try again";
  }
}
</script>

</body>
</html>
